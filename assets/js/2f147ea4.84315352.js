"use strict";(self.webpackChunkmongez_docs=self.webpackChunkmongez_docs||[]).push([[5555],{9168:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var i=r(4848),t=r(5680);const o={sidebar_position:1},s="Introduction",l={id:"warlock/mail/introduction",title:"Introduction",description:"Mails play a crucial role in any application, it's used to send notifications, welcome emails, and many other use cases.",source:"@site/docs/warlock/mail/introduction.mdx",sourceDirName:"warlock/mail",slug:"/warlock/mail/introduction",permalink:"/docs/warlock/mail/introduction",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"warlock",previous:{title:"Mail",permalink:"/docs/category/mail"},next:{title:"Mail Configurations",permalink:"/docs/warlock/mail/configurations"}},a={},c=[{value:"Setup",id:"setup",level:2},{value:"Sending Emails",id:"sending-emails",level:2},{value:"React Mails",id:"react-mails",level:2},{value:"Send a react mail",id:"send-a-react-mail",level:2},{value:"Using Styled Components",id:"using-styled-components",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.RP)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(n.p,{children:"Mails play a crucial role in any application, it's used to send notifications, welcome emails, and many other use cases."}),"\n",(0,i.jsxs)(n.p,{children:["Warlock provides a simple way to send emails using ",(0,i.jsx)(n.a,{href:"https://nodemailer.com",children:"NodeMailer"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsxs)(n.p,{children:["By default Warlock installs ",(0,i.jsx)(n.strong,{children:"nodemailer"})," so you don't need to install it manually."]}),"\n",(0,i.jsxs)(n.p,{children:["Now just head to the ",(0,i.jsx)(n.a,{href:"./configurations",children:"Mail Configurations"})," file, and set your mail configurations."]}),"\n",(0,i.jsx)(n.h2,{id:"sending-emails",children:"Sending Emails"}),"\n",(0,i.jsxs)(n.p,{children:["After we configured the mailer, we can now send emails using the ",(0,i.jsx)(n.code,{children:"sendMail"})," function."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { sendMail } from "@warlock.js/core";\r\n\r\nsendMail({\r\n  to: "your-email@exampl.com",\r\n  subject: "Welcome to Warlock",\r\n  html: "<h1>Welcome to Warlock</h1>",\r\n});\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"sendMail"})," function accepts an object that contains the following properties:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"to"}),": The email address of the recipient."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"subject"}),": The email subject."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"html"}),": The email body, it could be a string or an HTML string."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"text"}),": The email body, it should be only a plain text."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"attachments"}),": An array of attachments, each attachment is an object that contains the following properties:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"filename"}),": The file name."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"path"}),": The file path."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"content"}),": The file content."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"}),": The file encoding, the default value is ",(0,i.jsx)(n.code,{children:"utf-8"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"contentType"}),": The file content type, the default value is ",(0,i.jsx)(n.code,{children:"text/plain"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cid"}),": The file content id, the default value is ",(0,i.jsx)(n.code,{children:"null"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"from"}),": it is optional as it will be taken from the mail configurations, but you can override it here."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cc"}),": An array of email addresses to be added to the ",(0,i.jsx)(n.code,{children:"cc"})," field."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bcc"}),": An array of email addresses to be added to the ",(0,i.jsx)(n.code,{children:"bcc"})," field."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"react-mails",children:"React Mails"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://reactjs.org",children:"React"})," is a popular library to build user interfaces, and it's used in many applications."]}),"\n",(0,i.jsx)(n.p,{children:"Luckily, Warlock uses a simple react component to render the email body, so you can use react to build your emails."}),"\n",(0,i.jsx)(n.h2,{id:"send-a-react-mail",children:"Send a react mail"}),"\n",(0,i.jsxs)(n.p,{children:["To send a react mail, use ",(0,i.jsx)(n.code,{children:"sendReactMail"}),", it takes everything that ",(0,i.jsx)(n.code,{children:"sendMail"})," takes, except the html is replaced by ",(0,i.jsx)(n.code,{children:"render"})," property"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="src/app/users/mail/verifyEmail.tsx"',children:'import { sendReactMail } from "@warlock.js/core";\r\nimport EmailVerification from "./../components/EmailVerification";\r\nimport { User } from "./../models/user";\r\n\r\nexport async function sendVerificationMail(user: User) {\r\n  await sendReactMail({\r\n    to: user.email,\r\n    subject: "Verify your email",\r\n    render: <EmailVerification user={user} />,\r\n  });\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Now define the ",(0,i.jsx)(n.code,{children:"EmailVerification"})," component:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="src/app/users/components/EmailVerification.tsx"',children:'import { User } from "./../models/user";\r\n\r\nexport default function EmailVerification({ user }: { user: User }) {\r\n  return (\r\n    <div>\r\n      <h1>Verify your email</h1>\r\n      <p>\r\n        Hello {user.name}, please click the following link to verify your email\r\n        address.\r\n      </p>\r\n      <p>Your verification code is: {user.get("activationCode")}</p>\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"using-styled-components",children:"Using Styled Components"}),"\n",(0,i.jsxs)(n.p,{children:["The project is installed with ",(0,i.jsx)(n.a,{href:"https://emotion.sh/docs/styled",children:"Emotion Styled Components"})," so you can use it to style your emails."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="src/app/users/components/EmailVerification.tsx"',children:'import { User } from "./../models/user";\r\nimport styled from "@emotion/styled";\r\n\r\nconst Container = styled.div`\r\n  background: #f5f5f5;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport default function EmailVerification({ user }: { user: User }) {\r\n  return (\r\n    <Container>\r\n      <h1>Verify your email</h1>\r\n      <p>\r\n        Hello {user.name}, please click the following link to verify your email\r\n        address.\r\n      </p>\r\n      <p>Your verification code is: {user.get("activationCode")}</p>\r\n    </Container>\r\n  );\r\n}\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Please note that not all CSS properties are supported in emails, so make sure to check the ",(0,i.jsx)(n.a,{href:"https://www.campaignmonitor.com/css/",children:"Supported CSS Properties"})," before using any CSS property."]})}),"\n",(0,i.jsx)(n.p,{children:"You can of course remove it if you don't need it."})]})}function u(e={}){const{wrapper:n}={...(0,t.RP)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},5680:(e,n,r)=>{r.d(n,{RP:()=>c});var i=r(6540);function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function l(e,n){if(null==e)return{};var r,i,t=function(e,n){if(null==e)return{};var r,i,t={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var a=i.createContext({}),c=function(e){var n=i.useContext(a),r=n;return e&&(r="function"==typeof e?e(n):s(s({},n),e)),r},d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},u=i.forwardRef((function(e,n){var r=e.components,t=e.mdxType,o=e.originalType,a=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),h=c(r),p=t,m=h["".concat(a,".").concat(p)]||h[p]||d[p]||o;return r?i.createElement(m,s(s({ref:n},u),{},{components:r})):i.createElement(m,s({ref:n},u))}));u.displayName="MDXCreateElement"}}]);