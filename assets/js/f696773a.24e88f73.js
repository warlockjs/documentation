"use strict";(self.webpackChunkmongez_docs=self.webpackChunkmongez_docs||[]).push([[2724],{8643:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var s=t(4848),n=t(5680);const o={sidebar_position:1},i="Introduction",a={id:"warlock/http/introduction",title:"Introduction",description:"Http Requests is the core of any web application. Warlock provides a simple and easy to use API to make HTTP requests.",source:"@site/docs/warlock/http/introduction.mdx",sourceDirName:"warlock/http",slug:"/warlock/http/introduction",permalink:"/docs/warlock/http/introduction",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"warlock",previous:{title:"Http Requests",permalink:"/docs/category/http-requests"},next:{title:"Routes",permalink:"/docs/warlock/http/routes"}},l={},c=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"How it works",id:"how-it-works",level:2},{value:"Middleware",id:"middleware",level:2},{value:"Handler Or Controller?",id:"handler-or-controller",level:2},{value:"Function Handlers VS Class Handlers",id:"function-handlers-vs-class-handlers",level:2},{value:"Using Handlers",id:"using-handlers",level:3},{value:"Using Class Handlers",id:"using-class-handlers",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,n.RP)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(r.p,{children:"Http Requests is the core of any web application. Warlock provides a simple and easy to use API to make HTTP requests."}),"\n",(0,s.jsx)(r.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsxs)(r.p,{children:["Following the steps of ",(0,s.jsx)(r.a,{href:"https://expressjs.com/",children:"Express"})," and ",(0,s.jsx)(r.a,{href:"https://www.fastify.io/",children:"Fastify"}),", Warlock uses the same concept of ",(0,s.jsx)(r.code,{children:"request"})," and ",(0,s.jsx)(r.code,{children:"response"})," objects."]}),"\n",(0,s.jsxs)(r.p,{children:["So when you make a request, Warlock will create a ",(0,s.jsx)(r.code,{children:"request"})," object that contains all the information about the request, and a ",(0,s.jsx)(r.code,{children:"response"})," object that contains all the information about the response."]}),"\n",(0,s.jsx)(r.p,{children:"Let's see a simple example"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",metastring:'title="src/app/general/routes.ts"',children:'import { router, Request, Response } from "@warlock.js/core";\r\n\r\nrouter.get("/", (request: Request, response: Response) => {\r\n  return response.success({\r\n    message: "Hello World",\r\n  });\r\n});\n'})}),"\n",(0,s.jsxs)(r.p,{children:["Nothing special here, we just created a simple route that returns a success response with a message ",(0,s.jsx)(r.code,{children:"Hello World"}),"."]}),"\n",(0,s.jsx)(r.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,s.jsxs)(r.p,{children:["Simply, we define our ",(0,s.jsx)(r.a,{href:"./routes",children:"app routes"})," to define which handlers will be executed when a request is made to a specific route."]}),"\n",(0,s.jsx)(r.p,{children:"When a request is made, Warlock will check if there is a route that matches the request URL, if there is a match, then it will execute the handler and return the response."}),"\n",(0,s.jsx)(r.h2,{id:"middleware",children:"Middleware"}),"\n",(0,s.jsx)(r.p,{children:"Middleware is a function that will be executed before the handler, it's used to modify the request or the response, or to execute some code before the handler."}),"\n",(0,s.jsx)(r.p,{children:"So we can define the http cycle as follows:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Define the routes"}),"\n",(0,s.jsx)(r.li,{children:"Execute the middleware (if exists)"}),"\n",(0,s.jsx)(r.li,{children:"Execute the handler that receives the request and returns the response"}),"\n",(0,s.jsx)(r.li,{children:"Send the response"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"handler-or-controller",children:"Handler Or Controller?"}),"\n",(0,s.jsxs)(r.p,{children:["Both has the same meaning, we prefer to use the term ",(0,s.jsx)(r.code,{children:"request handler"})," but for more other programming languages standards, we store all ",(0,s.jsx)(r.code,{children:"handlers"})," inside the ",(0,s.jsx)(r.code,{children:"controllers"})," directory."]}),"\n",(0,s.jsx)(r.h2,{id:"function-handlers-vs-class-handlers",children:"Function Handlers VS Class Handlers"}),"\n",(0,s.jsxs)(r.p,{children:["In such programming language as ",(0,s.jsx)(r.code,{children:"Typescript"})," (Yes typescript not javascript), we can use both paradigms, so let's see the difference between them."]}),"\n",(0,s.jsx)(r.h3,{id:"using-handlers",children:"Using Handlers"}),"\n",(0,s.jsxs)(r.p,{children:["Handlers are great for simple routes that does a simple task and for decoupling the code, it makes perfect sense to use it for a ",(0,s.jsx)(r.code,{children:"login"})," route for instance, we just need to validate the request and return the response."]}),"\n",(0,s.jsx)(r.h2,{id:"using-class-handlers",children:"Using Class Handlers"}),"\n",(0,s.jsxs)(r.p,{children:["In ",(0,s.jsx)(r.code,{children:"Warlock"}),", we prefer using ",(0,s.jsx)(r.code,{children:"classes"})," when it comes to ",(0,s.jsx)(r.code,{children:"RESTful"})," APIs, because it makes it easier to maintain the code and to add more features to the same route."]}),"\n",(0,s.jsxs)(r.p,{children:["That's why we ",(0,s.jsx)(r.a,{href:"./restful",children:"introduced Restful Classes"})," that makes it easier to create a ",(0,s.jsx)(r.code,{children:"RESTful"})," API with around 6 routes in a single class."]})]})}function h(e={}){const{wrapper:r}={...(0,n.RP)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},5680:(e,r,t)=>{t.d(r,{RP:()=>c});var s=t(6540);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function a(e,r){if(null==e)return{};var t,s,n=function(e,r){if(null==e)return{};var t,s,n={},o=Object.keys(e);for(s=0;s<o.length;s++)t=o[s],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)t=o[s],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var l=s.createContext({}),c=function(e){var r=s.useContext(l),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},d={inlineCode:"code",wrapper:function(e){var r=e.children;return s.createElement(s.Fragment,{},r)}},h=s.forwardRef((function(e,r){var t=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,h=a(e,["components","mdxType","originalType","parentName"]),u=c(t),p=n,f=u["".concat(l,".").concat(p)]||u[p]||d[p]||o;return t?s.createElement(f,i(i({ref:r},h),{},{components:t})):s.createElement(f,i({ref:r},h))}));h.displayName="MDXCreateElement"}}]);