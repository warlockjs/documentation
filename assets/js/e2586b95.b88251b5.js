"use strict";(self.webpackChunkmongez_docs=self.webpackChunkmongez_docs||[]).push([[8339],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>y});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),d=r,y=p["".concat(l,".").concat(d)]||p[d]||m[d]||a;return n?o.createElement(y,i(i({ref:t},u),{},{components:n})):o.createElement(y,i({ref:t},u))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2892:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const a={sidebar_position:6},i="To Json",s={unversionedId:"warlock/utils/to-json",id:"warlock/utils/to-json",title:"To Json",description:"toJson is a utility function that converts a value to a valid json object/array (not a string).",source:"@site/docs/warlock/utils/to-json.mdx",sourceDirName:"warlock/utils",slug:"/warlock/utils/to-json",permalink:"/documentation/docs/warlock/utils/to-json",draft:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"warlock",previous:{title:"Sluggable",permalink:"/documentation/docs/warlock/utils/sluggable"},next:{title:"Urls",permalink:"/documentation/docs/warlock/utils/urls"}},l={},c=[{value:"Usage",id:"usage",level:2}],u={toc:c},p="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"to-json"},"To Json"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"toJson")," is a utility function that converts a value to a valid json object/array (",(0,r.kt)("inlineCode",{parentName:"p"},"not a string"),")."),(0,r.kt)("p",null,"This function is heavily used internally in warlock to parse the response body before sending it to the client."),(0,r.kt)("p",null,"But you may have some situations where you want to get the output value of certain class i.e ",(0,r.kt)("inlineCode",{parentName:"p"},"CategoryOutput"),"."),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("p",null,"Just call the function and pass to it any object/array, it will recursively convert it to a valid json object/array."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/app/main.ts"',title:'"src/app/main.ts"'},'import { toJson } from "@mongez/warlock";\nimport { CategoryOutput } from "app/categories/output/category-output";\nimport { UserOutput } from "app/users/output/user-output";\n\nconst category = new CategoryOutput({\n  id: 1,\n  name: "Category 1",\n  children: [\n    {\n      id: 2,\n      name: "Category 2",\n    },\n  ],\n  createdBy: new UserOutput({\n    id: 1,\n    name: "John Doe",\n  }),\n});\n\nasync function main() {\n  console.log(await toJson(category));\n}\n\nmain();\n')),(0,r.kt)("p",null,"This returns:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": 1,\n  "name": "Category 1",\n  "children": [\n    {\n      "id": 2,\n      "name": "Category 2"\n    }\n  ],\n  "createdBy": {\n    "id": 1,\n    "name": "John Doe"\n  }\n}\n')),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Please note that this is ",(0,r.kt)("inlineCode",{parentName:"p"},"async")," function, so you need to ",(0,r.kt)("inlineCode",{parentName:"p"},"await")," it.")))}m.isMDXComponent=!0}}]);