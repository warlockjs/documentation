"use strict";(self.webpackChunkmongez_docs=self.webpackChunkmongez_docs||[]).push([[2910],{2782:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var i=n(4848),t=n(5680);const o={sidebar_position:2},a="Cache Configurations",s={id:"warlock/cache/configurations",title:"Cache Configurations",description:"Cache configurations are used to define the cache drivers, and the default driver and each driver's options.",source:"@site/docs/warlock/cache/configurations.mdx",sourceDirName:"warlock/cache",slug:"/warlock/cache/configurations",permalink:"/docs/warlock/cache/configurations",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"warlock",previous:{title:"Introduction",permalink:"/docs/warlock/cache/introduction"},next:{title:"Cache Manager",permalink:"/docs/warlock/cache/cache-manager"}},c={},d=[{value:"Usage",id:"usage",level:2},{value:"Configurations",id:"configurations",level:2},{value:"Default Driver",id:"default-driver",level:2},{value:"Drivers",id:"drivers",level:2},{value:"Options",id:"options",level:2}];function l(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.RP)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h1,{id:"cache-configurations",children:"Cache Configurations"}),"\n",(0,i.jsx)(r.p,{children:"Cache configurations are used to define the cache drivers, and the default driver and each driver's options."}),"\n",(0,i.jsx)(r.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(r.p,{children:["In the ",(0,i.jsx)(r.code,{children:"src/config"})," directory, make sure to create ",(0,i.jsx)(r.code,{children:"cache.ts"})," file if not created already."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",metastring:'title="src/config/cache.ts"',children:'import { env } from "@mongez/dotenv";\r\nimport { CacheConfigurations, RedisCacheDriver } from "@warlock.js/core";\r\n\r\nconst cacheConfigurations: CacheConfigurations = {\r\n  drivers: {\r\n    redis: RedisCacheDriver,\r\n  },\r\n  default: env("CACHE_DRIVER", "redis"),\r\n  options: {\r\n    redis: {\r\n      host: env("REDIS_HOST"),\r\n      port: env("REDIS_PORT"),\r\n      password: env("REDIS_PASSWORD"),\r\n    },\r\n  },\r\n};\r\n\r\nexport default cacheConfigurations;\n'})}),"\n",(0,i.jsx)(r.h2,{id:"configurations",children:"Configurations"}),"\n",(0,i.jsx)(r.p,{children:"The cache configurations object has the following properties:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"default"}),": This is the default driver that will be used if no driver is specified."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"drivers"}),": This is an object that holds the cache drivers, the key is the driver name, and the value is the driver class."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"options"}),": This is an object that holds the options for each driver, the key is the driver name, and the value is the driver options."]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"default-driver",children:"Default Driver"}),"\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.code,{children:"default"})," property is used to define the default driver that will be called on application boot."]}),"\n",(0,i.jsxs)(r.p,{children:["It should be a driver name that is named under the ",(0,i.jsx)(r.code,{children:"drivers"})," property."]}),"\n",(0,i.jsxs)(r.p,{children:["For example, we can set the default cache driver to ",(0,i.jsx)(r.code,{children:"redis"})," which is declared under the ",(0,i.jsx)(r.code,{children:"drivers"})," property."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",metastring:'title="src/config/cache.ts"',children:'import { env } from "@mongez/dotenv";\r\nimport { CacheConfigurations, RedisCacheDriver } from "@warlock.js/core";\r\n\r\nconst cacheConfigurations: CacheConfigurations = {\r\n  drivers: {\r\n    redis: RedisCacheDriver,\r\n  },\r\n  default: env("CACHE_DRIVER", "redis"),\r\n  options: {\r\n    redis: {\r\n      host: env("REDIS_HOST"),\r\n      port: env("REDIS_PORT"),\r\n      password: env("REDIS_PASSWORD"),\r\n    },\r\n  },\r\n};\r\n\r\nexport default cacheConfigurations;\n'})}),"\n",(0,i.jsx)(r.admonition,{type:"info",children:(0,i.jsxs)(r.p,{children:["If no default driver is defined, then the cache manager will use the ",(0,i.jsx)(r.a,{href:"./null",children:"NullCacheDriver"})," instead."]})}),"\n",(0,i.jsx)(r.h2,{id:"drivers",children:"Drivers"}),"\n",(0,i.jsx)(r.p,{children:"This is where we define all drivers that might be used in the application, usually, we define only the default driver, but based on the application needs, we might need to define more than one driver."}),"\n",(0,i.jsxs)(r.p,{children:["the ",(0,i.jsx)(r.code,{children:"driver"})," property is an object that holds the cache drivers, the key is the driver name, and the value is the driver class."]}),"\n",(0,i.jsx)(r.admonition,{type:"note",children:(0,i.jsx)(r.p,{children:"Please note we define the driver class, not an instance of the driver as it is lazy instantiated by the cache manager."})}),"\n",(0,i.jsx)(r.admonition,{type:"info",children:(0,i.jsxs)(r.p,{children:["Please check ",(0,i.jsx)(r.a,{href:"./introduction#cache-drivers",children:"All Available Drivers"})," to know more about the available drivers."]})}),"\n",(0,i.jsx)(r.h2,{id:"options",children:"Options"}),"\n",(0,i.jsxs)(r.p,{children:["In the ",(0,i.jsx)(r.code,{children:"options"})," property, we define the options for each driver, the key is the driver name, and the value is the driver options that will be used when the cache driver is loaded."]})]})}function h(e={}){const{wrapper:r}={...(0,t.RP)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},5680:(e,r,n)=>{n.d(r,{RP:()=>d});var i=n(6540);function t(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function o(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function s(e,r){if(null==e)return{};var n,i,t=function(e,r){if(null==e)return{};var n,i,t={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],r.indexOf(n)>=0||(t[n]=e[n]);return t}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var c=i.createContext({}),d=function(e){var r=i.useContext(c),n=r;return e&&(n="function"==typeof e?e(r):a(a({},r),e)),n},l={inlineCode:"code",wrapper:function(e){var r=e.children;return i.createElement(i.Fragment,{},r)}},h=i.forwardRef((function(e,r){var n=e.components,t=e.mdxType,o=e.originalType,c=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),u=d(n),p=t,f=u["".concat(c,".").concat(p)]||u[p]||l[p]||o;return n?i.createElement(f,a(a({ref:r},h),{},{components:n})):i.createElement(f,a({ref:r},h))}));h.displayName="MDXCreateElement"}}]);