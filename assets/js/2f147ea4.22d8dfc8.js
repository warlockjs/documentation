"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5555],{521:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var r=i(4848),s=i(8453);const t={sidebar_position:1},o="Introduction",l={id:"warlock/mail/introduction",title:"Introduction",description:"Mails play a crucial role in any application, it's used to send notifications, welcome emails, and many other use cases.",source:"@site/docs/warlock/mail/introduction.mdx",sourceDirName:"warlock/mail",slug:"/warlock/mail/introduction",permalink:"/docs/warlock/mail/introduction",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"warlock",previous:{title:"Mail",permalink:"/docs/category/mail"},next:{title:"Mail Configurations",permalink:"/docs/warlock/mail/configurations"}},a={},c=[{value:"Setup",id:"setup",level:2},{value:"Sending Emails",id:"sending-emails",level:2},{value:"React Mails",id:"react-mails",level:2},{value:"Send a react mail",id:"send-a-react-mail",level:2},{value:"Using Styled Components",id:"using-styled-components",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(n.p,{children:"Mails play a crucial role in any application, it's used to send notifications, welcome emails, and many other use cases."}),"\n",(0,r.jsxs)(n.p,{children:["Warlock provides a simple way to send emails using ",(0,r.jsx)(n.a,{href:"https://nodemailer.com",children:"NodeMailer"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,r.jsxs)(n.p,{children:["By default Warlock installs ",(0,r.jsx)(n.strong,{children:"nodemailer"})," so you don't need to install it manually."]}),"\n",(0,r.jsxs)(n.p,{children:["Now just head to the ",(0,r.jsx)(n.a,{href:"./configurations",children:"Mail Configurations"})," file, and set your mail configurations."]}),"\n",(0,r.jsx)(n.h2,{id:"sending-emails",children:"Sending Emails"}),"\n",(0,r.jsxs)(n.p,{children:["After we configured the mailer, we can now send emails using the ",(0,r.jsx)(n.code,{children:"sendMail"})," function."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'import { sendMail } from "@warlock.js/core";\r\n\r\nsendMail({\r\n  to: "your-email@exampl.com",\r\n  subject: "Welcome to Warlock",\r\n  html: "<h1>Welcome to Warlock</h1>",\r\n});\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"sendMail"})," function accepts an object that contains the following properties:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"to"}),": The email address of the recipient."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"subject"}),": The email subject."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"html"}),": The email body, it could be a string or an HTML string."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"text"}),": The email body, it should be only a plain text."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"attachments"}),": An array of attachments, each attachment is an object that contains the following properties:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filename"}),": The file name."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"path"}),": The file path."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"content"}),": The file content."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"encoding"}),": The file encoding, the default value is ",(0,r.jsx)(n.code,{children:"utf-8"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"contentType"}),": The file content type, the default value is ",(0,r.jsx)(n.code,{children:"text/plain"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cid"}),": The file content id, the default value is ",(0,r.jsx)(n.code,{children:"null"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"from"}),": it is optional as it will be taken from the mail configurations, but you can override it here."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cc"}),": An array of email addresses to be added to the ",(0,r.jsx)(n.code,{children:"cc"})," field."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"bcc"}),": An array of email addresses to be added to the ",(0,r.jsx)(n.code,{children:"bcc"})," field."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"react-mails",children:"React Mails"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://reactjs.org",children:"React"})," is a popular library to build user interfaces, and it's used in many applications."]}),"\n",(0,r.jsx)(n.p,{children:"Luckily, Warlock uses a simple react component to render the email body, so you can use react to build your emails."}),"\n",(0,r.jsx)(n.h2,{id:"send-a-react-mail",children:"Send a react mail"}),"\n",(0,r.jsxs)(n.p,{children:["To send a react mail, use ",(0,r.jsx)(n.code,{children:"sendReactMail"}),", it takes everything that ",(0,r.jsx)(n.code,{children:"sendMail"})," takes, except the html is replaced by ",(0,r.jsx)(n.code,{children:"render"})," property"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",metastring:'title="src/app/users/mail/verifyEmail.tsx"',children:'import { sendReactMail } from "@warlock.js/core";\r\nimport EmailVerification from "./../components/EmailVerification";\r\nimport { User } from "./../models/user";\r\n\r\nexport async function sendVerificationMail(user: User) {\r\n  await sendReactMail({\r\n    to: user.email,\r\n    subject: "Verify your email",\r\n    render: <EmailVerification user={user} />,\r\n  });\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Now define the ",(0,r.jsx)(n.code,{children:"EmailVerification"})," component:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",metastring:'title="src/app/users/components/EmailVerification.tsx"',children:'import { User } from "./../models/user";\r\n\r\nexport default function EmailVerification({ user }: { user: User }) {\r\n  return (\r\n    <div>\r\n      <h1>Verify your email</h1>\r\n      <p>\r\n        Hello {user.name}, please click the following link to verify your email\r\n        address.\r\n      </p>\r\n      <p>Your verification code is: {user.get("activationCode")}</p>\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"using-styled-components",children:"Using Styled Components"}),"\n",(0,r.jsxs)(n.p,{children:["The project is installed with ",(0,r.jsx)(n.a,{href:"https://emotion.sh/docs/styled",children:"Emotion Styled Components"})," so you can use it to style your emails."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",metastring:'title="src/app/users/components/EmailVerification.tsx"',children:'import { User } from "./../models/user";\r\nimport styled from "@emotion/styled";\r\n\r\nconst Container = styled.div`\r\n  background: #f5f5f5;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport default function EmailVerification({ user }: { user: User }) {\r\n  return (\r\n    <Container>\r\n      <h1>Verify your email</h1>\r\n      <p>\r\n        Hello {user.name}, please click the following link to verify your email\r\n        address.\r\n      </p>\r\n      <p>Your verification code is: {user.get("activationCode")}</p>\r\n    </Container>\r\n  );\r\n}\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Please note that not all CSS properties are supported in emails, so make sure to check the ",(0,r.jsx)(n.a,{href:"https://www.campaignmonitor.com/css/",children:"Supported CSS Properties"})," before using any CSS property."]})}),"\n",(0,r.jsx)(n.p,{children:"You can of course remove it if you don't need it."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);