"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2071],{5633:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var o=e(4848),r=e(8453);const s={sidebar_position:6},i="To Json",a={id:"warlock/utils/to-json",title:"To Json",description:"toJson is a utility function that converts a value to a valid json object/array (not a string).",source:"@site/docs/warlock/utils/to-json.mdx",sourceDirName:"warlock/utils",slug:"/warlock/utils/to-json",permalink:"/docs/warlock/utils/to-json",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"warlock",previous:{title:"Sluggable",permalink:"/docs/warlock/utils/sluggable"},next:{title:"Urls",permalink:"/docs/warlock/utils/urls"}},c={},l=[{value:"Usage",id:"usage",level:2}];function u(n){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"to-json",children:"To Json"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"toJson"})," is a utility function that converts a value to a valid json object/array (",(0,o.jsx)(t.code,{children:"not a string"}),")."]}),"\n",(0,o.jsx)(t.p,{children:"This function is heavily used internally in warlock to parse the response body before sending it to the client."}),"\n",(0,o.jsxs)(t.p,{children:["But you may have some situations where you want to get the output value of certain class i.e ",(0,o.jsx)(t.code,{children:"CategoryOutput"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(t.p,{children:"Just call the function and pass to it any object/array, it will recursively convert it to a valid json object/array."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",metastring:'title="src/app/main.ts"',children:'import { toJson } from "@warlock.js/core";\r\nimport { CategoryOutput } from "app/categories/output/category-output";\r\nimport { UserOutput } from "app/users/output/user-output";\r\n\r\nconst category = new CategoryOutput({\r\n  id: 1,\r\n  name: "Category 1",\r\n  children: [\r\n    {\r\n      id: 2,\r\n      name: "Category 2",\r\n    },\r\n  ],\r\n  createdBy: new UserOutput({\r\n    id: 1,\r\n    name: "John Doe",\r\n  }),\r\n});\r\n\r\nasync function main() {\r\n  console.log(await toJson(category));\r\n}\r\n\r\nmain();\n'})}),"\n",(0,o.jsx)(t.p,{children:"This returns:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\r\n  "id": 1,\r\n  "name": "Category 1",\r\n  "children": [\r\n    {\r\n      "id": 2,\r\n      "name": "Category 2"\r\n    }\r\n  ],\r\n  "createdBy": {\r\n    "id": 1,\r\n    "name": "John Doe"\r\n  }\r\n}\n'})}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.p,{children:["Please note that this is ",(0,o.jsx)(t.code,{children:"async"})," function, so you need to ",(0,o.jsx)(t.code,{children:"await"})," it."]})})]})}function d(n={}){const{wrapper:t}={...(0,r.R)(),...n.components};return t?(0,o.jsx)(t,{...n,children:(0,o.jsx)(u,{...n})}):u(n)}},8453:(n,t,e)=>{e.d(t,{R:()=>i,x:()=>a});var o=e(6540);const r={},s=o.createContext(r);function i(n){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function a(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),o.createElement(s.Provider,{value:t},n.children)}}}]);