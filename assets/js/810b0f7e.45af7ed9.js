"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2918],{7247:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>a,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>d,toc:()=>r});var n=i(4848),t=i(8453);const l={sidebar_position:1},s="Introduction",d={id:"warlock/upload/introduction",title:"Introduction",description:"Uploading is a common task in web applications, it's used to upload images, videos, documents, and other types of files.",source:"@site/docs/warlock/upload/introduction.mdx",sourceDirName:"warlock/upload",slug:"/warlock/upload/introduction",permalink:"/docs/warlock/upload/introduction",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"warlock",previous:{title:"Uploads",permalink:"/docs/category/uploads"},next:{title:"Uploads configurations",permalink:"/docs/warlock/upload/configurations"}},a={},r=[{value:"How it works",id:"how-it-works",level:2},{value:"Uploads Module",id:"uploads-module",level:2},{value:"Uploading Files",id:"uploading-files",level:2},{value:"Deleting Files",id:"deleting-files",level:2},{value:"Getting Uploaded Files",id:"getting-uploaded-files",level:2}];function u(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h1,{id:"introduction",children:"Introduction"}),"\n",(0,n.jsx)(o.p,{children:"Uploading is a common task in web applications, it's used to upload images, videos, documents, and other types of files."}),"\n",(0,n.jsx)(o.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,n.jsxs)(o.p,{children:["When creating a new ",(0,n.jsx)(o.code,{children:"Warlock"})," project, it is shipped with ",(0,n.jsx)(o.code,{children:"uploads"})," module to lift up the uploading process hassle from you."]}),"\n",(0,n.jsx)(o.h2,{id:"uploads-module",children:"Uploads Module"}),"\n",(0,n.jsxs)(o.p,{children:["Let's head to ",(0,n.jsx)(o.code,{children:"src/app/uploads/routes.ts"})," and see what's inside:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-ts",metastring:'title="src/app/uploads/routes.ts"',children:'import {\r\n  deleteFile,\r\n  getUploadedFile,\r\n  getUploadedFileUsingHash,\r\n  router,\r\n  uploadChunkedFiles,\r\n  uploadFiles,\r\n} from "@warlock.js/core";\r\nimport { adminPath, guarded } from "app/utils/router";\r\n\r\nguarded(() => {\r\n  // Upload files\r\n  router.post(["/uploads", adminPath("/uploads")], uploadFiles);\r\n  // Upload chunked files\r\n  router.post(\r\n    ["/uploads/chunks", adminPath("/uploads/chunks")],\r\n    uploadChunkedFiles\r\n  );\r\n  // Delete file by hash from the database\r\n  router.delete(["/uploads/:hash", adminPath("/uploads/:hash")], deleteFile);\r\n});\r\n\r\n// Get uploaded file using the file path directly\r\nrouter.get("/uploads/*", getUploadedFile);\r\n// Get uploaded file using hash\r\nrouter.get("/uploads/:hash", getUploadedFileUsingHash);\n'})}),"\n",(0,n.jsx)(o.p,{children:"Let's break it down into pieces:"}),"\n",(0,n.jsx)(o.h2,{id:"uploading-files",children:"Uploading Files"}),"\n",(0,n.jsx)(o.p,{children:"Warlock has two ways to upload files, either uploading a one or more files, or uploading a chunked file."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.a,{href:"./uploading-files",children:"Read more about uploading files"})}),"\n",(0,n.jsx)(o.h2,{id:"deleting-files",children:"Deleting Files"}),"\n",(0,n.jsxs)(o.p,{children:["As a result of the uploading files, each uploaded file will return an object contains the ",(0,n.jsx)(o.a,{href:"./upload-model#upload-output",children:"Upload Output"})," which contains the file hash."]}),"\n",(0,n.jsx)(o.p,{children:"This hash is used to delete the file from the database, and the file itself from the storage."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.a,{href:"./deleting-files",children:"Read more about deleting files"})}),"\n",(0,n.jsx)(o.h2,{id:"getting-uploaded-files",children:"Getting Uploaded Files"}),"\n",(0,n.jsx)(o.p,{children:"There are two ways to get the uploaded file, either using the file path directly, or using the file hash."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.a,{href:"./getting-uploaded-files",children:"Read more about getting uploaded files"})})]})}function p(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},8453:(e,o,i)=>{i.d(o,{R:()=>s,x:()=>d});var n=i(6540);const t={},l=n.createContext(t);function s(e){const o=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(l.Provider,{value:o},e.children)}}}]);