"use strict";(self.webpackChunkmongez_docs=self.webpackChunkmongez_docs||[]).push([[523],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(n),d=i,f=m["".concat(s,".").concat(d)]||m[d]||u[d]||r;return n?a.createElement(f,o(o({ref:t},c),{},{components:n})):a.createElement(f,o({ref:t},c))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3344:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:1},o="Introduction",l={unversionedId:"warlock/mail/introduction",id:"warlock/mail/introduction",title:"Introduction",description:"Mails play a crucial role in any application, it's used to send notifications, welcome emails, and many other use cases.",source:"@site/docs/warlock/mail/introduction.mdx",sourceDirName:"warlock/mail",slug:"/warlock/mail/introduction",permalink:"/mongez/docs/warlock/mail/introduction",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"warlock",previous:{title:"Mail",permalink:"/mongez/docs/category/mail"},next:{title:"Mail Configurations",permalink:"/mongez/docs/warlock/mail/configurations"}},s={},p=[{value:"Setup",id:"setup",level:2},{value:"Sending Emails",id:"sending-emails",level:2},{value:"React Mails",id:"react-mails",level:2},{value:"Send a react mail",id:"send-a-react-mail",level:2},{value:"Using Styled Components",id:"using-styled-components",level:3}],c={toc:p},m="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(m,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"Mails play a crucial role in any application, it's used to send notifications, welcome emails, and many other use cases."),(0,i.kt)("p",null,"Warlock provides a simple way to send emails using ",(0,i.kt)("a",{parentName:"p",href:"https://nodemailer.com"},"NodeMailer"),"."),(0,i.kt)("h2",{id:"setup"},"Setup"),(0,i.kt)("p",null,"By default Warlock installs ",(0,i.kt)("strong",{parentName:"p"},"nodemailer")," so you don't need to install it manually."),(0,i.kt)("p",null,"Now just head to the ",(0,i.kt)("a",{parentName:"p",href:"./configurations"},"Mail Configurations")," file, and set your mail configurations."),(0,i.kt)("h2",{id:"sending-emails"},"Sending Emails"),(0,i.kt)("p",null,"After we configured the mailer, we can now send emails using the ",(0,i.kt)("inlineCode",{parentName:"p"},"sendMail")," function."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'import { sendMail } from "@mongez/warlock";\n\nsendMail({\n  to: "your-email@exampl.com",\n  subject: "Welcome to Warlock",\n  html: "<h1>Welcome to Warlock</h1>",\n});\n')),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"sendMail")," function accepts an object that contains the following properties:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"to"),": The email address of the recipient."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"subject"),": The email subject."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"html"),": The email body, it could be a string or an HTML string."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"text"),": The email body, it should be only a plain text."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"attachments"),": An array of attachments, each attachment is an object that contains the following properties:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename"),": The file name."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path"),": The file path."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"content"),": The file content."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"encoding"),": The file encoding, the default value is ",(0,i.kt)("inlineCode",{parentName:"li"},"utf-8"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"contentType"),": The file content type, the default value is ",(0,i.kt)("inlineCode",{parentName:"li"},"text/plain"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cid"),": The file content id, the default value is ",(0,i.kt)("inlineCode",{parentName:"li"},"null"),"."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"from"),": it is optional as it will be taken from the mail configurations, but you can override it here."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cc"),": An array of email addresses to be added to the ",(0,i.kt)("inlineCode",{parentName:"li"},"cc")," field."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bcc"),": An array of email addresses to be added to the ",(0,i.kt)("inlineCode",{parentName:"li"},"bcc")," field.")),(0,i.kt)("h2",{id:"react-mails"},"React Mails"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://reactjs.org"},"React")," is a popular library to build user interfaces, and it's used in many applications."),(0,i.kt)("p",null,"Luckily, Warlock uses a simple react component to render the email body, so you can use react to build your emails."),(0,i.kt)("h2",{id:"send-a-react-mail"},"Send a react mail"),(0,i.kt)("p",null,"To send a react mail, use ",(0,i.kt)("inlineCode",{parentName:"p"},"sendReactMail"),", it takes everything that ",(0,i.kt)("inlineCode",{parentName:"p"},"sendMail")," takes, except the html is replaced by ",(0,i.kt)("inlineCode",{parentName:"p"},"render")," property"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/users/mail/verifyEmail.tsx"',title:'"src/app/users/mail/verifyEmail.tsx"'},'import { sendReactMail } from "@mongez/warlock";\nimport EmailVerification from "./../components/EmailVerification";\nimport { User } from "./../models/user";\n\nexport async function sendVerificationMail(user: User) {\n  await sendReactMail({\n    to: user.email,\n    subject: "Verify your email",\n    render: <EmailVerification user={user} />,\n  });\n}\n')),(0,i.kt)("p",null,"Now define the ",(0,i.kt)("inlineCode",{parentName:"p"},"EmailVerification")," component:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/users/components/EmailVerification.tsx"',title:'"src/app/users/components/EmailVerification.tsx"'},'import { User } from "./../models/user";\n\nexport default function EmailVerification({ user }: { user: User }) {\n  return (\n    <div>\n      <h1>Verify your email</h1>\n      <p>\n        Hello {user.name}, please click the following link to verify your email\n        address.\n      </p>\n      <p>Your verification code is: {user.get("activationCode")}</p>\n    </div>\n  );\n}\n')),(0,i.kt)("h3",{id:"using-styled-components"},"Using Styled Components"),(0,i.kt)("p",null,"The project is installed with ",(0,i.kt)("a",{parentName:"p",href:"https://emotion.sh/docs/styled"},"Emotion Styled Components")," so you can use it to style your emails."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/users/components/EmailVerification.tsx"',title:'"src/app/users/components/EmailVerification.tsx"'},'import { User } from "./../models/user";\nimport styled from "@emotion/styled";\n\nconst Container = styled.div`\n  background: #f5f5f5;\n  padding: 20px;\n  border-radius: 5px;\n`;\n\nexport default function EmailVerification({ user }: { user: User }) {\n  return (\n    <Container>\n      <h1>Verify your email</h1>\n      <p>\n        Hello {user.name}, please click the following link to verify your email\n        address.\n      </p>\n      <p>Your verification code is: {user.get("activationCode")}</p>\n    </Container>\n  );\n}\n')),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Please note that not all CSS properties are supported in emails, so make sure to check the ",(0,i.kt)("a",{parentName:"p",href:"https://www.campaignmonitor.com/css/"},"Supported CSS Properties")," before using any CSS property.")),(0,i.kt)("p",null,"You can of course remove it if you don't need it."))}u.isMDXComponent=!0}}]);